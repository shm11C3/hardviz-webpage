---
import { Image } from "astro:assets";
import { BarChart3, Image as ImageIcon, Paintbrush } from "lucide-react";
import bgImageScreenshot from "../assets/screenshots/bg-image.png";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const highlights = [
  {
    icon: "bar",
    title: t("usage.customization.title1"),
    description: t("usage.customization.description1"),
  },
  {
    icon: "paint",
    title: t("usage.customization.title2"),
    description: t("usage.customization.description2"),
  },
  {
    icon: "image",
    title: t("usage.customization.title3"),
    description: t("usage.customization.description3"),
  },
];
---

<section class="py-16 bg-slate-50 dark:bg-slate-900" id="customization">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-slate-900 dark:text-white">
        {t("usage.title")}
      </h2>
      <p class="text-slate-600 dark:text-slate-400 mt-2 text-lg">
        {t("usage.description")}
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
      {highlights.map((item) => (
          <div class="rounded-xl border border-slate-200 bg-white p-6 transition hover:shadow-md dark:border-slate-700 dark:bg-slate-800">
            <div class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700">
              {item.icon === "bar" && (
                <BarChart3 className="h-6 w-6 text-indigo-500" />
              )}
              {item.icon === "paint" && (
                <Paintbrush className="h-6 w-6 text-pink-500" />
              )}
              {item.icon === "image" && (
                <ImageIcon className="h-6 w-6 text-green-500" />
              )}
            </div>
            <h3 class="font-semibold text-base text-slate-800 dark:text-white">
              {item.title}
            </h3>
            <p class="text-slate-600 text-sm dark:text-slate-400">
              {item.description}
            </p>
          </div>
        ))}
    </div>
    <div class="flex justify-center mt-8">
      <Image
        src={bgImageScreenshot}
        alt="Screenshot of Background Image"
        class="rounded-xl shadow-md w-full md:w-2/3 lg:w-1/2"
        loading="lazy"
        widths={[400, 800, 1200]}
        sizes="(max-width: 768px) 100vw, (max-width: 1024px) 66vw, 50vw"
        quality={95}
        format="webp"
      />
    </div>
  </div>
</section>
